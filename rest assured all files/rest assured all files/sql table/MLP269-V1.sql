-- CREATE AND USE DATABASE
CREATE DATABASE MLP269V1;
DROP DATABASE MLP269V1;
USE MLP269V1;
SHOW TABLES;
-- Granting Permissions
-- Drop user 'MLP269'@'localhost';
CREATE USER 'MLP269V1'@'localhost' IDENTIFIED BY 'MLP269V1';
GRANT ALL ON MLP269V1.* TO 'MLP269V1'@'localhost';
-----------------------------------------------------------------------

-- OFFERS MODULE
CREATE TABLE OFFERS(OFFER_ID INT UNIQUE,
 OFFER_NAME VARCHAR(30),
 OFFER_VALUE FLOAT);
 
 INSERT INTO OFFERS(OFFER_ID,OFFER_NAME,OFFER_VALUE) VALUES 
 (1, 'REPUBLIC DAY OFFER', 250),
 (2, 'FEB SALE OFFER', 350);
 
 SELECT * FROM OFFERS;
 DELETE FROM OFFERS WHERE OFFER_ID = 3;
 DROP TABLE OFFERS;
-----------------------------------------------------------------------

-----------------------------------------------------------------------

-- HOTEL DETAILS MODULE
CREATE TABLE HOTEL_DETAILS(HOTEL_ID INT PRIMARY KEY, 
 HOTEL_NAME VARCHAR(30), 
 ADDRESS LONGTEXT, 
 PHONE LONG, 
 NO_OF_ROOM INT,
 DESCRIPTION LONGTEXT);

INSERT INTO HOTEL_DETAILS(HOTEL_ID,HOTEL_NAME,ADDRESS,PHONE,NO_OF_ROOM, DESCRIPTION) 
VALUES (0001, 'HOTEL TAJ', 'VIPIN KHAND, GOMTI NAGAR, LUCKNOW, UTTAR PRADESH', 77852649, 10, '7-STAR LUXURY'),
(0002, 'HOTEL OBEROI', 'DR ZAKIR HUSSAIN MARG, DELHI GOLF CLUB, GOLF LINKS, NEW DELHI', 85246637 , 15, '5-STAR LUXURY'),
(0003, 'HOTEL MARIOT', 'JUHU RD, JUHU TARA, JUHU, MUMBAI, MAHARASHTRA', 78542588 , 5, '5-STAR VILLA');

INSERT INTO HOTEL_DETAILS(HOTEL_ID,HOTEL_NAME,ADDRESS,PHONE,NO_OF_ROOM, DESCRIPTION) 
VALUES (100, 'HOTEL TAJ', 'VIPIN KHAND, GOMTI NAGAR, LUCKNOW, UTTAR PRADESH', 77852649, 10, '7-STAR LUXURY');
SELECT * FROM HOTEL_DETAILS;
INSERT INTO HOTEL_DETAILS(HOTEL_ID,HOTEL_NAME,ADDRESS,PHONE,NO_OF_ROOM, DESCRIPTION) 
VALUES (400, 'HOTEL Fairmont Jaipur', '2 Riico, Kukas, Rajasthan', 7785, 10, '7-STAR LUXURY');

SELECT * FROM HOTEL_DETAILS;
Drop table hotel_details;
-----------------------------------------------------------------------

-----------------------------------------------------------------------

-- ROOM DETAILS MODULE

CREATE TABLE ROOM_DETAILS(ROOM_NO INT UNIQUE, ROOM_TYPE VARCHAR(30), ROOM_COST FLOAT, CHECKIN_DATE DATE, CHECKOUT_DATE DATE);

INSERT INTO ROOM_DETAILS(ROOM_NO, ROOM_TYPE, ROOM_COST,CHECKIN_DATE, CHECKOUT_DATE) VALUES (101, "DELUX EXECUTIVE" , 1500, "2021-01-03", "2019-01-10"),
(102, "RIVER VIEW", 6000, "2016-10-06", "2016-10-08"), 
(103, "MOUNTAIN VIEW" , 8500, "2017-09-06", "2017-09-08"),
(104, "EXECUTIVE ROOM", 4000, "2019-01-03", "2019-01-10"),
(105, "WAVE FRONT", 4500,"2021-01-03", "2021-01-10");
INSERT INTO ROOM_DETAILS(ROOM_NO, ROOM_TYPE, ROOM_COST,CHECKIN_DATE, CHECKOUT_DATE) VALUES (401, "DELUX EXECUTIVE" , 1500,"2016-10-06", "2016-10-08");

SELECT * FROM ROOM_DETAILS;
DROP TABLE ROOM_DETAILS;
-----------------------------------------------------------------------

-----------------------------------------------------------------------

-- PERSONAL DETAILS MODULE
CREATE TABLE PERSONAL_DETAILS
(
GUEST_ID INT PRIMARY KEY,
GUEST_NAME VARCHAR(30),
ADDRESS VARCHAR(30),
PHONENO LONG,
EMAIL VARCHAR(30),
USERNAME VARCHAR(30),
PASSWORD VARCHAR(30)
);

INSERT INTO PERSONAL_DETAILS VALUES (101,'AJAY','HYDERABAD',8187629876,'AJAY@EMAIL.COM','AJAY','AJAY123');
INSERT INTO PERSONAL_DETAILS VALUES (102,'BABU','CHENNAI',8186578654,'BABU@EMAIL.COM','BABU','BABU123');
INSERT INTO PERSONAL_DETAILS VALUES (103,'CARMEL','CHENNAI',81864,'CARMEL@EMAIL.COM','CARMEL','CARMEL123');
INSERT INTO PERSONAL_DETAILS VALUES (401,'Aishwarya','Mumbai',99887766,'Aaishwaryasahai36@gmail.com','Aishu','Aishu123');

SELECT * FROM PERSONAL_DETAILS;
DROP TABLE PERSONAL_DETAILS;
-----------------------------------------------------------------------

-----------------------------------------------------------------------

-- WALLET DETAILS MODULE
-- CREATING WALLET _DETAILS TABLE 
CREATE TABLE WALLET_DETAILS(
WALLET_ID INT PRIMARY KEY,
WALLET_TYPE VARCHAR(20),
WALLET_AMOUNT FLOAT);

-- INSERT VALUES INTO WALLET_DETAILS

INSERT INTO WALLET_DETAILS VALUES(1,'PHONEPEY',10000);
INSERT INTO WALLET_DETAILS VALUES(2,'AMAZON_PAY',20000);

SELECT * FROM WALLET_DETAILS;
DROP TABLE WALLET_DETAILS;

-----------------------------------------------------------------------
-----------------------------------------------------------------------

-- TRANSACTION DETAILS MODULE
-- CREATING TRANSACTION _DETAILS TABLE 
CREATE TABLE TRANSACTION_DETAILS(
TRANSACTION_ID INT PRIMARY KEY,
GUEST_ID INT ,
WALLET_ID INT,
CREDIT INT,
DEBIT INT,
FOREIGN KEY(GUEST_ID) REFERENCES PERSONAL_DETAILS(GUEST_ID)
);

-- INSERT VALUES INTO TRANSACTION_DETAILS

INSERT INTO TRANSACTION_DETAILS VALUES(8431,101,1,300,200);
INSERT INTO TRANSACTION_DETAILS VALUES(8432,102,2,900,100);

SELECT * FROM TRANSACTION_DETAILS;
DROP TABLE TRANSACTION_DETAILS;

-----------------------------------------------------------------------


-----------------------------------------------------------------------

-- BOOKING DETAILS MODULE
CREATE TABLE BOOKING_DETAILS(
    GUEST_ID INT,
    HOTEL_ID INT,
    ROOM_ID INT,
    BOOKING_ID INT PRIMARY KEY,
    CHECKIN_DATE DATE, 
    CHECKOUT_DATE DATE, 
    AMOUNT_PAID FLOAT, 
    AMOUNT_PENDING FLOAT, 
    STATUS VARCHAR(20),
    FOREIGN KEY (GUEST_ID) REFERENCES PERSONAL_DETAILS(GUEST_ID),
    FOREIGN KEY (HOTEL_ID) REFERENCES HOTEL_DETAILS(HOTEL_ID),
    FOREIGN KEY (ROOM_ID) REFERENCES ROOM_DETAILS(ROOM_NO)
    );

INSERT INTO BOOKING_DETAILS(GUEST_ID, HOTEL_ID, ROOM_ID, BOOKING_ID, CHECKIN_DATE, CHECKOUT_DATE, AMOUNT_PAID,  AMOUNT_PENDING, STATUS)
    VALUES(101,0001,103, 1, "2017-09-06", "2017-09-08",8500,00, "CONFIRMED"),
            (102,0002,105, 2, "2021-01-03", "2021-01-10",6000,00, "CONFIRMED");

SELECT * FROM BOOKING_DETAILS;
DROP TABLE BOOKING_DETAILS;
-----------------------------------------------------------------------

